<link href="/style.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="/reset.min.css" />
<link rel="shortcut icon" type="image/png" href="/favicon.png" />
<link href="/materialicons.css" rel="stylesheet">

{% block head %}{% endblock %}

<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>{{ title }}</title>

<div class="hide-mobile notification">
  <div class="container">
    February 7, 2022: DataStation 0.7.0 is released! <a href="/docs/0.7.0-release-notes.html">Read more</a>
  </div>
</div>
<header>
  <div class="container">
    <div class="vertical-align-center">
      <div>
	<a id="title" href="/">DataStation</a>
	<span id="subtitle">The Open-Source Data IDE</span>
      </div>
      <div class="flex-right header-right">
	<iframe src="/stars/datastation.html" frameborder="0" scrolling="0" width="100" height="20" title="Stars"></iframe>
	<a href="/docs/latest/Installation.html" class="btn btn--primary hide-mobile">Install the App</a>
	<a href="https://forms.gle/wH5fdxrxXwZHoNxk8" class="header-subscribe">Subscribe</a>
      </div>
    </div>
  </div>
  <div id="subheader" class="hide-mobile">
    <div class="container">
      <div class="vertical-align-center">
	<a href="/docs">Documentation</a>
	<a href="/blog">Blog</a>
	<a href="/#the-pitch">The Pitch</a>
	<a href="https://discord.multiprocess.io">Community</a>
	<a href="https://app.datastation.multiprocess.io">Try it out online!</a>
      </div>
    </div>
  </div>
</header>

{% block body %}{% endblock %}

<footer>
  <div class="container">
    <div>
      <a href="/" class="site-name">DataStation</a>
    </div>
    <div>
      <a href="/docs">Documentation</a>
    </div>
    <div>
      <a href="/blog">Blog</a>
    </div>
    <div>
      <a href="https://discord.multiprocess.io">Community</a>
    </div>
    <div>
      <a href="https://twitter.com/multiprocessio">Twitter</a>
    </div>
    <div>
      <a href="https://github.com/multiprocessio/datastation">Github</a>
    </div>
    <div>
      <a href="mailto:hi@multiprocess.io">Contact</a>
    </div>
    <div>
    &copy; 2021-2022 <a href="https://multiprocess.io">Multiprocess Labs LLC</a>
    </div>
  </div>
</footer>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-195070972-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-195070972-1');
</script>

<script type="text/javascript">
// SOURCE: https://stackoverflow.com/a/7995898/1507139
var isMobile = Boolean(navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)/i));
if (isMobile) {
    var hideMobile = document.querySelectorAll('.hide-mobile');
    for (var i = 0; i < hideMobile.length; i++) {
	hideMobile[i].remove();
    }

    var showMobile = document.querySelectorAll('.show-mobile');
    for (var i = 0; i < showMobile.length; i++) {
	showMobile[i].className = showMobile[i].className.replace('show-mobile', '');
    }
}

function makeToCElement({ name, id, level }) {
    if (level === 0) {
	const toc = document.createElement('div');
	toc.level = level;
	toc.className="toc";

	const header = document.createElement('h4');
	header.innerText = 'Contents';
	toc.appendChild(header);

	const ul = document.createElement('ul');
	toc.appendChild(ul);
	return toc;
    }

    const li = document.createElement('li');
    li.level = level;
    li.className = "toc-element";

    const link = document.createElement('a');
    link.className = "toc-link";
    link.href = "#" + id;
    link.innerText = name;

    const ul = document.createElement('ul');

    li.appendChild(link);
    li.appendChild(ul);

    return li;
}

if (location.pathname.startsWith('/docs/') && location.pathname.length > '/docs/'.length) {
    const headers = document.querySelectorAll('h2, h3, h4, h5, h6, .post-body h1, .post-body h2, .post-body h3, .post-body h4, .post-body h5, .post-body h6');
    const tree = makeToCElement({ level: 0 });
    const stack = [tree];
    for (let i = 0; i < headers.length; i++) {
	const h = headers[i]
	const name = h.innerHTML;
	if (name === 'About this page') {
	    continue;
	}

	const id = name.replaceAll(' ', '-').toLowerCase();
	h.id = id;

	const level = +h.tagName.slice(1);

	while (level <= stack[stack.length-1].level) {
	    stack.pop();
	}

	const next = makeToCElement({ name, id, level });
	// Add to tree
	stack[stack.length-1].querySelector('ul').appendChild(next);
	// Add to stack
	stack.push(next);
    }

    document.querySelector('.post-body h1').after(tree);
}
</script>
